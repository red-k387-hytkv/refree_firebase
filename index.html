<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VolleyBallReferee</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="content">
        <div class="top-button">
            <button class="content-box" onclick="increaseScore('left')">＋</button>
            <button class="content-box" onclick="decreaseScore('left')">ー</button>
            <button class="content-box" onclick="decreaseScore('right')">ー</button>
            <button class="content-box" onclick="increaseScore('right')">＋</button>
        </div>
        <div class="scoreboard">
            <div class="left-score">
                <input id="left-score" class="score" type="text" maxlength="2" oninput="validateInput(this)" placeholder="0" readonly>
            </div>
            <div class="right-score">
                <input id="right-score" class="score" type="text" maxlength="2" oninput="validateInput(this)" placeholder="0" readonly>
            </div>
        </div>
        <div class="middle-button">
            <button class="content-box" onclick="rotatePlayersClockwise('left')"><img src="./img/rotation.png" height="30" width="30"></button>
            <button class="content-box" onclick="rotatePlayersClockwise('left')"><img src="./img/revers.png" height="30" width="30"></button>
            <button class="content-box">サーブ権</button>
            <button class="content-box">コート<br>移動</button>
            <button class="content-box">サーブ権</button>
            <button class="content-box" onclick="rotatePlayersClockwise('right')"><img src="./img/revers.png" height="30" width="30"></button>
            <button class="content-box" onclick="rotatePlayersClockwise('right')"><img src="./img/rotation.png" height="30" width="30"></button>
        </div>
        <div class="main-button">
            <button class="content-box">得点</button>
            <button class="content-box">得点</button>
        </div>
        <div class="coat">
            <div class="left-coat">
                <input type="text" id="left-player-5" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="left-player-4" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="left-player-6" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="left-player-3" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="left-player-1" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="left-player-2" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
            </div>
            <div class="right-coat">
                <input type="text" id="right-player-2" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="right-player-1" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="right-player-3" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="right-player-6" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="right-player-4" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
                <input type="text" id="right-player-5" class="player" maxlength="2" oninput="validateInput(this)" placeholder="0">
            </div>
        </div>
        <div class="bottom-button">
            <button class="content-box" onclick="resetScores()">得点をリセット</button>
            <button class="content-box">選手をリセット</button>
            <button class="content-box">全てリセット</button>
        </div>
    </main>
    <script>
        function increaseScore(side) {
            const scoreBox = document.getElementById(`${side}-score`);
            let score = parseInt(scoreBox.value) || 0;
            scoreBox.value = score + 1;
        }

        function decreaseScore(side) {
            const scoreBox = document.getElementById(`${side}-score`);
            let score = parseInt(scoreBox.value) || 0;
            if (score > 0) {
                scoreBox.value = score - 1;
            }
        }

        function resetScores() {
            const leftScoreBox = document.getElementById('left-score');
            const rightScoreBox = document.getElementById('right-score');
            leftScoreBox.value = '0';
            rightScoreBox.value = '0';
        }

        function validateInput(input) {
            input.value = input.value.replace(/[^0-9]/g, '').slice(0, 2);
        }

        window.onload = function() {
            adjustFontSize();  // Adjust on load
            window.onresize = adjustFontSize;  // Adjust on resize
        };
        //時計回り
        function rotatePlayersClockwise(side) {
            // チームのプレイヤーのIDリストを動的に生成
            const playerIds = [];
            for (let i = 1; i <= 6; i++) {
                playerIds.push(`${side}-player-${i}`);
            }

            // プレイヤーIDを使って、各プレイヤーの現在の値を取得
            const playerValues = playerIds.map(id => document.getElementById(id).value);

            // 配列の最初の要素を取り出し、配列の最後に挿入することで時計回りのローテーションを実現
            playerValues.push(playerValues.shift());
            
            // 新しい順序でプレイヤーの値を設定
            playerIds.forEach((id, index) => {
                document.getElementById(id).value = playerValues[index];
            });
        //反時計回り
        function rotatePlayersCounterClockwise(side) {
               // チームのプレイヤーのIDリストを動的に生成
                const playerIds = [];
            for (let i = 1; i <= 6; i++) {
                playerIds.push(`${side}-player-${i}`);
            }

            // プレイヤーIDを使って、各プレイヤーの現在の値を取得
            const playerValues = playerIds.map(id => document.getElementById(id).value);

            // 配列の最後の要素を取り出し、配列の先頭に挿入することで反時計周りのローテーションを実現
            playerValues.unshift(playerValues.pop());

            // 新しい順序でプレイヤーの値を設定
            playerIds.forEach((id, index) => {
                document.getElementById(id).value = playerValues[index];
            });
}
}

    </script>
 
</body>
</html>
